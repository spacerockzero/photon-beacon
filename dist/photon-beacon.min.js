"use strict";!function(e,n,i,o,t,a){var r={defaultConfig:{URL:"/beacon"},data:{},gather:function(){var n={};return i?n.userTimingsCompressed=i.compressForUri(i.getCompressedUserTiming()):(n.marks=t.getEntriesByType("mark"),n.measures=t.getEntriesByType("measure")),n.timings=t.timing,e.chrome&&(n.firstPaint=e.chrome.loadTimes().firstPaintTime),o?n.resourcesCompressed=o.getResourceTiming():n.resources=t.getEntriesByType("resource"),a&&(console.log("before zip length:",JSON.stringify(n).length),n={LZString:!0,data:a.compressToEncodedURIComponent(JSON.stringify(n))}),console.log("data:",n),console.log("final beacon length:",JSON.stringify(n).length),n},send:function(){var n=e.PHOTON.data||{};if(e.navigator.sendBeacon)if(/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)){var i=JSON.stringify(n,null,2);e.navigator.sendBeacon(e.PHOTON.config.URL,i)}else{var o=new e.Blob([JSON.stringify(n,null,2)],{type:"application/json"});e.navigator.sendBeacon(e.PHOTON.config.URL,o)}}};r.getData=function(){r.data=r.data?Object.assign(r.data,r.gather()):r.gather()},r.addData=function(e,n){r.data[e]=n},r.config=r&&e.PHOTON_CONFIG?Object.assign(r.defaultConfig,e.PHOTON_CONFIG):r.defaultConfig,e.PHOTON=r}(window,document,window.UserTimingCompression,window.ResourceTimingCompression,window.performance,window.LZString);