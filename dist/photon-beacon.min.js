"use strict";!function(e,n,i,t,o,r){var s={defaultConfig:{URL:"/beacon"},data:{},gather:function(){var n={};return i?n.userTimingsCompressed=i.compressForUri(i.getCompressedUserTiming()):(n.marks=o.getEntriesByType("mark"),n.measures=o.getEntriesByType("measure")),n.timings=o.timing,e.chrome&&(n.firstPaint=e.chrome.loadTimes().firstPaintTime),t?n.resourcesCompressed=t.getResourceTiming():n.resources=o.getEntriesByType("resource"),r&&(console.log("before zip length:",JSON.stringify(n).length),n={LZString:!0,data:r.compressToEncodedURIComponent(JSON.stringify(n))},console.log("after zip length:",JSON.stringify(n).length)),console.log("data:",n),n},send:function(){var n=e.PHOTON.data||{};if(e.navigator.sendBeacon){var i=new e.Blob([JSON.stringify(n,null,2)],{type:"application/json"});e.navigator.sendBeacon(e.PHOTON.config.URL,i)}}};s.getData=function(){s.data=s.data?Object.assign(s.data,s.gather()):s.gather()},s.addData=function(e,n){s.data[e]=n},s.config=s&&e.PHOTON_CONFIG?Object.assign(s.defaultConfig,e.PHOTON_CONFIG):s.defaultConfig,e.PHOTON=s}(window,document,window.UserTimingCompression,window.ResourceTimingCompression,window.performance,window.LZString);